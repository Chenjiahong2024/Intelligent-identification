# 🔧 添加相机权限配置

## ⚠️ 重要：运行前必须完成此配置

### 方法 1: 在 Xcode 中添加（推荐）

1. **打开项目**
   - 在 Xcode 左侧导航器中点击项目名称（蓝色图标）

2. **选择 Target**
   - 点击 "Intelligent identification" target

3. **进入 Info 标签**
   - 点击顶部的 "Info" 标签

4. **添加相机权限**
   - 在 "Custom iOS Target Properties" 列表中
   - 鼠标悬停在任意行上，点击 "+" 按钮
   - 或者右键点击 → "Add Row"

5. **输入权限信息**
   - Key: 输入 `Privacy - Camera Usage Description`
     （或直接输入 `NSCameraUsageDescription`）
   - Type: 保持为 `String`
   - Value: 输入以下文本
     ```
     我们需要访问相机来识别物体并帮助您学习语言。We need camera access to recognize objects and help you learn languages.
     ```

6. **保存**
   - Command + S 保存
   - 重新构建项目

### 方法 2: 创建 Info.plist 文件（备选）

如果上面的方法不起作用，可以手动创建：

1. **在 Xcode 中**
   - 右键点击 "Intelligent identification" 文件夹
   - 选择 "New File..."
   - 选择 "Property List"
   - 命名为 "Info"
   - 点击 "Create"

2. **添加权限条目**
   - 在新创建的 Info.plist 中
   - 右键点击 → "Add Row"
   - Key: `NSCameraUsageDescription`
   - Type: `String`
   - Value: `我们需要访问相机来识别物体并帮助您学习语言。We need camera access to recognize objects and help you learn languages.`

### ✅ 验证配置

1. **清理构建**
   ```
   Product → Clean Build Folder (⇧⌘K)
   ```

2. **重新构建**
   ```
   Product → Build (⌘B)
   ```

3. **运行应用**
   ```
   Product → Run (⌘R)
   ```

4. **测试权限**
   - 点击"开始识别"按钮
   - 应该会弹出权限请求对话框
   - 点击"允许"

### 🎯 配置成功的标志

- ✅ 编译无错误
- ✅ 点击相机按钮时弹出权限请求
- ✅ 允许权限后相机预览正常显示

### ❓ 如果还有问题

如果编译仍有错误，在 Xcode 中检查：

1. **文件是否包含在 Target 中**
   - 选择任意 .swift 文件
   - 在右侧面板查看 "Target Membership"
   - 确保勾选了 "Intelligent identification"

2. **所有文件都已添加**
   ```
   应该包含这些文件：
   ✓ Intelligent_identificationApp.swift
   ✓ ContentView.swift
   ✓ CameraView.swift
   ✓ SettingsView.swift
   ✓ RecognitionResultView.swift
   ✓ ObjectRecognitionService.swift
   ✓ TranslationService.swift
   ✓ SpeechService.swift
   ```

3. **重启 Xcode**
   - 有时重启 Xcode 可以解决缓存问题

### 📝 完成后

配置完成后，你的应用就可以正常运行了！

继续下一步：
- 🚀 运行应用（⌘R）
- 📱 在真机上测试
- 🎉 开始使用！

